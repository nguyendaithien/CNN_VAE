#include <iostream>
#include <fstream>
#include"weights.h"
#include"CNN.h"

using namespace std;


int main(void) {
    double output_conv1[784*16];
    double output_pooling1[196*16];
    double output_conv2[196*8];
    double output_pooling2[49*8] =  {
	    0.077383935, 0.077383935, 0.077383935, 0.077383935, 0.077383935, 0.077383935, 0.077383935, 0.7735121, 2.019475, 1.996413, 1.8171737, 1.6674457, 0.98916554, 0.08463651, 0.38090226, 1.464526, 1.659425, 1.9463937, 2.3816357, 1.704469, 0.20691851, 0.077383935, 0.077383935, 0.077383935, 1.4615542, 2.404694, 1.5341318, 0.078295946, 0.077383935, 0.077383935, 0.34893373, 2.5619688, 2.4207733, 0.2519691, 0.079429686, 0.077383935, 0.077383935, 0.077383935, 0.5665852, 2.067969, 1.5193982, 0.13500735, 0.077383935, 0.077383935
0.0056724325, 0.0056724325, 0.0056724325, 0.0056724325, 0.0056724325, 0.0056724325, 0.0056724325, 0, 0, 0, 0, 0, 0.042051546, 0, 0, 0.13479301, 0.071935795, 0, 0.677206, 0.16790748, 0, 0, 0, 0, 0, 0, 0.070780225, 0, 0.0004618019, 0, 0, 0.0004618019, 0.42596775, 0.18105492, 0, 0, 0.0004618019, 0
0.14300252, 0.14300252, 0.14300252, 0.14300252, 0.14300252, 0.14300252, 0.14300252, 0.14300252, 1.3348424, 2.007297, 2.2237828, 2.2500525, 1.6144079, 0.3710956, 0.29596192, 0.46775934, 0.95970476, 1.3629112, 1.8365595, 1.2567836, 0.34474865, 0.20870346, 0.19820952, 0.19820952, 0.5777379, 1.181252, 1.8412317, 1.0532207, 0.19820952, 0.19820952, 0.2775324, 0.9963125, 2.1407483, 1.7536649, 0.29465124, 0.19820952, 0.19820952, 0.19820952, 0.19820952, 1.2324544, 1.9520108, 1.0111958, 0.19820952, 0.19820952
0.19820952, 0.19820952, 0.19820952, 0.19820952, 0.19820952, 0.19820952, 0.19820952, 0.19820952, 0.8288141, 1.4014465, 1.1586636, 1.1128665, 1.0719311, 0.19208045, 0.25134555, 1.2474557, 1.3538721, 1.7144018, 2.0131264, 1.9611733, 0.39757594, 0.20870346, 0.19820952, 0.19820952, 0.5777379, 1.181252, 1.8412317, 1.0532207, 0.19820952, 0.19820952, 0.2775324, 0.9963125, 2.1407483, 1.7536649, 0.29465124, 0.19820952, 0.19820952, 0.19820952, 0.19820952, 1.2324544, 1.9520108, 1.0111958, 0.19820952, 0.19820952
0.19276126, 0.17275928, 0.17275928, 0.17275928, 0.17275928, 0.17275928, 0.17275928, 0.17275928, 1.5048662, 1.1842839, 1.153067, 1.2131492, 0.45750707, 0.16395767, 0.37232015, 1.60133, 1.7988476, 2.488993, 3.113418, 1.2410604, 0.24756542, 0.19276126, 0.17275928, 0.17275928, 1.4065653, 2.188951, 1.8405952, 0.6137979, 0.17275928, 0.17275928, 0.50985324, 2.3926249, 2.398771, 1.1234733, 0.20340396, 0.19276126, 0.17275928, 0.17275928, 0.524711, 2.2454379, 1.7732575, 0.33694082, 0.19276126, 0.17275928
0.8745605, 0.8745605, 0.8745605, 0.8745605, 0.8745605, 0.8745605, 0.8745605, 0.8745605, 1.5486578, 1.4339484, 1.5877618, 1.5136831, 1.5900888, 0.9793881, 1.045vitis
    double output_conv3[49*8];
    double output_pooling3[16*8];
    double output_conv4[16*8];
    double output_upsampling1[64*8];
    double output_conv5[64*8];
    double output_upsampling2[64*8];
    double output_conv6[128*16];
    double output_upsampling3[196*16];
    double output_conv7[28*28];
    //double output_pooling7("output_decoder");

   // for (int i = 0; i < 28*28 ; i++) {
   //     image.write(img[i]);
   // }

    //CNN(1, 28, 28, image, output_conv1, output_pooling1, output_conv2,output_pooling2,output_conv3, output_pooling3,output_conv4, output_pooling4,output_conv5, output_pooling5,output_conv6, output_pooling6,output_conv7, output_pooling7);
    //CNN(1, 28, 28, image, output_conv1, output_pooling1, output_conv2,output_pooling2,output_conv3, output_pooling3);
    CNN(1, 28, 28, img, output_conv1, output_pooling1, output_conv2, output_pooling2,output_conv3, output_pooling3, output_conv4, output_upsampling1, output_conv5, output_upsampling2,output_conv6, output_upsampling3, output_conv7);


        for (int i = 0; i <49; i++) {
            for (int j = 0; j <8 ; j++) {
                double dut_val = output_conv3[i*8 + j];
                cout << " " << dut_val;
            }
	    cout << "\n"<< "       ";
	}

    return 0;
}

